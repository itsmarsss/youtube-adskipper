var html5_video_container_node = null, observerConfig = { attributes: !0, childList: !0, subtree: !0 }, observer = new MutationObserver(function () { checkControllerNode() }); function checkControllerNode() { if (null != html5_video_container_node) { observer.disconnect(), startSkipper(); return } html5_video_container_node = document.getElementsByClassName("html5-video-container")[0] } function startSkipper() { function e() { chrome.storage.local.get(["enabled"], function (e) { var t; e.enabled && (t = document.getElementsByTagName("video"), 0 != t.length && (t = t[0]).addEventListener("loadeddata", () => { var e = document.getElementsByClassName("ytp-ad-skip-button"), n = document.getElementsByClassName("ytp-ad-preview-container"); if (0 != e.length || 0 != n.length) { if (t.duration == NaN) return; t.currentTime = t.duration, incrementSkipped(), 0 != e.length && e[0].click() } })) }) } e(), new MutationObserver(function (t) { t.forEach(function (t) { "childList" === t.type ? function e(t) { for (var n = 0; n < t.length; n++)if ("video-stream html5-main-video" == t[n].className) return !0; return !1 }(t.addedNodes) && e() : "attributes" === t.type && "src" == t.attributeName && e() }) }).observe(html5_video_container_node, observerConfig) } async function incrementSkipped() { chrome.storage.local.get(["skipped"], function (e) { var t = e.skipped || 0; chrome.storage.local.set({ skipped: t + 2 }, function () { }) }) } observer.observe(document, observerConfig);