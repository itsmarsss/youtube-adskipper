var ytadskipper=async function(){!function e(){let t=function(e){for(let t of e)"childList"===t.type&&t.addedNodes.forEach(function(e){1===e.nodeType&&e.classList.contains("html5-video-player")&&a()})},n=new MutationObserver(t);function a(){let e=document.getElementsByClassName("html5-video-player")[0],t=function(e){for(let t of e)"childList"===t.type&&t.addedNodes.forEach(function(e){1===e.nodeType&&e.classList.contains("ytp-ad-player-overlay")&&s()})},n=new MutationObserver(t);n.observe(e,{attributes:!0,childList:!0,subtree:!0})}function s(){chrome.storage.local.get(["enabled"],e=>{e.enabled&&function e(){let t=document.getElementsByTagName("video");function n(){let e=document.getElementsByClassName("ytp-ad-skip-button"),n=document.getElementsByClassName("ytp-ad-preview-container"),a=document.getElementsByClassName("ytp-ad-skip-button-modern"),s=0,i=setInterval(()=>{if(++s>=100&&clearInterval(i),0!=a.length)a[0].click(),l(),clearInterval(i);else if(0!=e.length||0!=n.length){if(t.duration==NaN)return;t.currentTime=t.duration,0!=e.length&&e[0].click(),l(),clearInterval(i)}},100);async function l(){chrome.storage.local.get(["skipped"],e=>{chrome.storage.local.set({skipped:(e.skipped||0)+1})})}}0!=t.length&&((t=t[0]).readyState>=2?n():t.addEventListener("loadeddata",()=>{n()}))}()})}n.observe(document,{attributes:!0,childList:!0,subtree:!0})}()};ytadskipper();